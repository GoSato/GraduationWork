def calc(a,b,c)
	difference = a - b
	difference.each do |i|
		c.delete(i)
	end
end


#------------------------------------
#権威
oldAuth = [8838,9893,9985,9833,5926,8427,8492,9493,8999,8197,7317,6855,5803,6585,8876,6732,7805,6485,3717,2295,4211,2498,9068,1570,5112,9114,8666,8555,8364,6818,9691,9215,2172,238,398,1270,232,3286,5338,8824,8638,9711,7387,8697,5229,7248,2116,6694,3197,6378,9702,7458,8587,5353,9679,5259,9373,9458,8645,8780,2987,7767,2045,7704,9735,7709,6957,2878,9809,8530,8287,4116,9242,8063,4443,9473,3285,5571,8886,2515,7970,6097,9086,2453,900,4528,2483,7163,8449,9485,3912,2976,5440,5307,8288,2330,8514,5382,6550,9294]
newAuth = [8838,8999,5926,7055,9833,3717,5259,8514,2472,4866,1468,4424,8492,3820,6641,6790,5338,9215,6214,7014,238,340,4838,9985,8638,7644,1434,6732,8063,6585,3215,7230,1242,2474,2503,9485,6137,6855,3857,3798,2386,7250,6302,5562,4716,8427,3912,232,8780,9054,9294,6382,6141,6164,7891,7704,5068,7020,2048,958,5559,5609,4183,2515,4116,2498,1106,398,169,1949,1270,6485,2295,3286,2116,2172,1570,301,544,984,9493,9893,7317,3043,8197,8364,5387,9691,7970,8918,9934,7468,8876,8608,4870,5197,7248,9799,9470,4079]

#ハブ
oldHub = [1,2116,238,3717,232,398,1570,2172,4211,1320,2295,6585,6485,3286,1270,5803,8838,7805,1500,314,581,1301,1399,1403,4112,1474,8250,8197,340,258,4116,1935,4139,6855,6488,2499,415,6732,1729,3830,1298,534,8876,1028,99,1949,1242,7458,3441,391,3706,1464,4726,5609,7317,339,2969,4443,6550,6641,4926,5559,3045,6137,5030,2474,5382,6378,2878,2498,5926,8364,2045,3148,9493,5259,7020,8245,7704,6117,6790,6818,9773,5307,4528,8514,544,7083,8427,8587,8999,3912,5093,6910,5371,3922,2923,1350,3266,3256]
newHub = [1,238,310,124,2295,1204,1468,398,169,1106,150,153,126,2116,227,181,87,340,1500,5803,301,14,414,544,5559,1270,232,99,567,984,1028,2048,958,1944,373,565,1000,777,654,889,1346,1434,7317,4211,3717,2030,258,3266,3256,1350,1320,160,1540,1591,2503,1949,1469,1078,3139,787,4061,3969,2541,5223,7387,286,6514,8999,1570,5259,7704,2498,581,3191,1935,234,896,63,1242,5609,1399,2878,2350,1729,7805,1011,3006,1155,438,466,1745,816,2474,2709,559,1398,3500,3043,2828,2309]
#------------------------------------

if oldAuth.size != newAuth.size || oldHub.size != newHub.size
	puts "error"
end

calcOldAuth = oldAuth
calcNewAuth = newAuth

calcOldHub = oldHub
calcNewHub = newHub


# 適合率計算
matchAuth = oldAuth & newAuth
matchHub = oldHub & newHub

authPresicion = matchAuth.size.to_f / oldAuth.size.to_f
hubPresicion = matchHub.size.to_f / oldHub.size.to_f


# 順位相関係数計算
calc(oldAuth,newAuth,calcOldAuth)
calc(newAuth,oldAuth,calcNewAuth)

calc(oldHub,newHub,calcOldHub)
calc(newHub,oldHub,calcNewHub)

puts "-----------------"
puts "権威適合率"
puts authPresicion
puts "-----------------"
puts "ハブ適合率"
puts hubPresicion

puts "-----------------"
puts "新・既存の権威ランキング"
calcOldAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済み権威ランキング"
calcNewAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "権威ランキングサイズ"
puts calcOldAuth.size

puts "-----------------"
puts "新・既存のハブランキング"
calcOldHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済みハブランキング"
calcNewHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "ハブランキングサイズ"
puts calcOldHub.size

puts "-----------------"