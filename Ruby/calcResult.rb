def calc(a,b,c)
	difference = a - b
	difference.each do |i|
		c.delete(i)
	end
end


#------------------------------------
#権威
oldAuth = [8838,9893,9985,9833,5926,8427,8492,9493,8999,8197,7317,6855,5803,6585,8876,6732,7805,6485,3717,2295,4211,2498,9068,1570,5112,9114,8666,8555,8364,6818,9691,9215,2172,238,398,1270,232,3286,5338,8824,8638,9711,7387,8697,5229,7248,2116,6694,3197,6378,9702,7458,8587,5353,9679,5259,9373,9458,8645,8780,2987,7767,2045,7704,9735,7709,6957,2878,9809,8530,8287,4116,9242,8063,4443,9473,3285,5571,8886,2515,7970,6097,9086,2453,900,4528,2483,7163,8449,9485,3912,2976,5440,5307,8288,2330,8514,5382,6550,9294]
newAuth = [8838,8999,5926,7055,9833,3717,5259,8514,2472,4866,1468,4424,8492,3820,6641,6790,5338,9215,6214,7014,238,340,4838,9985,8638,7644,1434,6732,9893,8063,6585,3215,7230,6855,1242,2474,2503,9485,6137,3798,2386,3857,7250,6302,5562,4716,8427,3912,232,8780,9054,9294,6382,6141,9114,6164,9432,7891,7704,5068,7020,958,2048,6485,5559,5609,9679,8555,9711,4183,8587,7317,2515,6910,2498,4116,8645,2295,6578,5112,9493,5505,7319,4443,8321,5229,169,1106,398,9473,6957,4814,4701,1949,2172,1570,8197,1270,894,2976]

#ハブ
oldHub = [1,2116,238,3717,232,398,1570,2172,4211,1320,2295,6585,6485,3286,1270,5803,8838,7805,1500,314,581,1301,1399,1403,4112,1474,8250,8197,340,258,4116,1935,4139,6855,6488,2499,415,6732,1729,3830,1298,534,8876,1028,99,1949,1242,7458,3441,391,3706,1464,4726,5609,7317,339,2969,4443,6550,6641,4926,5559,3045,6137,5030,2474,5382,6378,2878,2498,5926,8364,2045,3148,9493,5259,7020,8245,7704,6117,6790,6818,9773,5307,4528,8514,544,7083,8427,8587,8999,3912,5093,6910,5371,3922,2923,1350,3266,3256]
newHub = [1,2116,238,310,2295,124,1270,181,1204,1468,1570,398,1106,169,53,153,150,1320,1500,2172,126,415,5803,227,87,340,3286,414,14,301,544,565,5559,232,1446,99,567,984,1028,4211,391,958,2048,373,1944,1000,122,1755,2923,6485,251,777,3045,654,1346,889,1434,7317,1805,1280,3717,2030,3266,1350,258,3256,201,160,1636,1540,2503,3645,162,1591,730,1949,1469,1078,534,3139,2369,7805,10,4061,787,6514,653,3969,286,7387,5223,2541,1217,8999,5259,7704,4139,3706,2498,581]
#------------------------------------

if oldAuth.size != newAuth.size || oldHub.size != newHub.size
	puts "error"
end

calcOldAuth = oldAuth
calcNewAuth = newAuth

calcOldHub = oldHub
calcNewHub = newHub


# 適合率計算
matchAuth = oldAuth & newAuth
matchHub = oldHub & newHub

authPresicion = matchAuth.size.to_f / oldAuth.size.to_f
hubPresicion = matchHub.size.to_f / oldHub.size.to_f


# 順位相関係数計算
calc(oldAuth,newAuth,calcOldAuth)
calc(newAuth,oldAuth,calcNewAuth)

calc(oldHub,newHub,calcOldHub)
calc(newHub,oldHub,calcNewHub)

puts "-----------------"
puts "権威適合率"
puts authPresicion
puts "-----------------"
puts "ハブ適合率"
puts hubPresicion

puts "-----------------"
puts "新・既存の権威ランキング"
calcOldAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済み権威ランキング"
calcNewAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "権威ランキングサイズ"
puts calcOldAuth.size

puts "-----------------"
puts "新・既存のハブランキング"
calcOldHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済みハブランキング"
calcNewHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "ハブランキングサイズ"
puts calcOldHub.size

puts "-----------------"