def calc(a,b,c)
	difference = a - b
	difference.each do |i|
		c.delete(i)
	end
end


#------------------------------------
#権威
oldAuth = [8838,9893,9985,9833,5926,8427,8492,9493,8999,8197,7317,6855,5803,6585,8876,6732,7805,6485,3717,2295,4211,2498,9068,1570,5112,9114,8666,8555,8364,6818,9691,9215,2172,238,398,1270,232,3286,5338,8824,8638,9711,7387,8697,5229,7248,2116,6694,3197,6378,9702,7458,8587,5353,9679,5259,9373,9458,8645,8780,2987,7767,2045,7704,9735,7709,6957,2878,9809,8530,8287,4116,9242,8063,4443,9473,3285,5571,8886,2515,7970,6097,9086,2453,900,4528,2483,7163,8449,9485,3912,2976,5440,5307,8288,2330,8514,5382,6550,9294]
newAuth = [6527,8492,9493,4538,8876,8999,5539,6378,6485,7709,5803,6787,9833,6524,8514,2295,5926,7055,5259,8427,7399,9679,8423,9114,4211,2498,2506,9985,9432,8780,9473,7891,8838,8587,8449,6578,9702,9485,8645,4293,9054,7020,6585,1570,7387,6302,9294,7591,6137,238,7230,7250,4716,8063,6134,6141,8638,2426,7644,2172,7014,9607,8040,4838,6384,5338,5252,9215,9185,5562,6641,3820,7165,6790,4139,7739,9332,3869,8992,6214,2116,7704,7696,8197,3286,1320,3536,1270,9773,6087,7952,3197,9953,7731,9893,4866,8383,5356,8129,5119]

#ハブ
oldHub = [1,2116,238,3717,232,398,1570,2172,4211,1320,2295,6585,6485,3286,1270,5803,8838,7805,1500,314,581,1301,1399,1403,4112,1474,8250,8197,340,258,4116,1935,4139,6855,6488,2499,415,6732,1729,3830,1298,534,8876,1028,99,1949,1242,7458,3441,391,3706,1464,4726,5609,7317,339,2969,4443,6550,6641,4926,5559,3045,6137,5030,2474,5382,6378,2878,2498,5926,8364,2045,3148,9493,5259,7020,8245,7704,6117,6790,6818,9773,5307,4528,8514,544,7083,8427,8587,8999,3912,5093,6910,5371,3922,2923,1350,3266,3256]
newHub = [1570,2172,3428,1,1474,3922,6378,4829,238,286,398,87,99,6524,160,2116,16,2295,3362,1184,5119,3045,6787,787,4139,6485,3624,3632,1314,1636,1270,4730,232,2498,730,8999,3969,124,1935,1664,3699,310,1301,2923,23,1755,982,2506,267,7276,1775,3645,1500,3286,415,1686,5671,162,2308,3393,1815,2541,7696,957,2719,247,1787,453,605,391,181,52,4516,1532,3188,47,874,1320,4310,243,2569,1728,1918,5803,2503,388,1786,2231,1446,543,2562,3641,126,1295,3077,5232,1889,2369,7,339]
#------------------------------------

if oldAuth.size != newAuth.size || oldHub.size != newHub.size
	puts "error"
end

calcOldAuth = oldAuth
calcNewAuth = newAuth

calcOldHub = oldHub
calcNewHub = newHub


# 適合率計算
matchAuth = oldAuth & newAuth
matchHub = oldHub & newHub

authPresicion = matchAuth.size.to_f / oldAuth.size.to_f
hubPresicion = matchHub.size.to_f / oldHub.size.to_f


# 順位相関係数計算
calc(oldAuth,newAuth,calcOldAuth)
calc(newAuth,oldAuth,calcNewAuth)

calc(oldHub,newHub,calcOldHub)
calc(newHub,oldHub,calcNewHub)

puts "-----------------"
puts "権威適合率"
puts authPresicion
puts "-----------------"
puts "ハブ適合率"
puts hubPresicion

puts "-----------------"
puts "新・既存の権威ランキング"
calcOldAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済み権威ランキング"
calcNewAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "権威ランキングサイズ"
puts calcOldAuth.size

puts "-----------------"
puts "新・既存のハブランキング"
calcOldHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済みハブランキング"
calcNewHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "ハブランキングサイズ"
puts calcOldHub.size

puts "-----------------"