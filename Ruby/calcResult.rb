def calc(a,b,c)
	difference = a - b
	difference.each do |i|
		c.delete(i)
	end
end


#------------------------------------
#権威
oldAuth = [424,247,252,149,145,892,123,266,127,5,249,264,147,179,144,122,1787,148,369,143,176,924,9,368,246,423,717,667,1245,7,4,335,2475,2001,211,2476,1868,494,2477,659,1068,2215,658,3058,809,2646,2166,196,808,111,3258,1086,2299,345,3945,605,582,2146,2165,1372,3563,3590,1243,81,2213,2465,2214,1559,169,10,549,193,1574,1788,940,776,489,1070,1067,2120,2143,311,331,2414,38,1326,3327,2047,715,2048,491,586,4628,4472,1377,1084,2478,2479,3333,2532]
newAuth = [498,497,1370,892,3801,1694,1765,1926,547,2164,122,2646,424,38,804,5884,3458,3456,451,2165,3455,3352,436,2166,5068,5085,5868,4407,825,1373,1378,1372,1675,4071,2564,5133,5134,5135,5136,1068,5022,3620,123,266,127,3446,3445,3447,3444,942,3443,246,3362,5266,169,5265,5268,1338,808,4131,2476,1592,235,3096,1120,342,367,2119,2120,872,1264,1539,2118,2117,2116,2121,3,427,3086,3527,3197,3185,3193,3301,2420,839,2477,247,2007,249,179,124,390,145,353,809,817,812,811,815]

#ハブ
oldHub = [494,335,252,2143,247,211,1787,196,489,424,924,659,2146,2381,2716,1135,1602,4705,4428,4445,1559,1393,1675,1813,1388,3448,314,990,2252,5338,3323,2217,36,1723,1885,3258,2020,3040,3452,1494,2066,1537,141,6171,192,5831,3673,1431,4472,5950,4279,3058,311,3693,5,3883,2796,1319,3577,3856,1647,123,3910,2819,1603,646,5819,5478,665,3043,3976,113,5245,3269,1704,2056,720,4016,1412,2881,2606,5078,2532,4174,1504,3579,9,3333,148,1417,1550,369,6138,3236,5014,298,4051,5044,4465,1601]
newHub = [489,4539,1700,4208,433,1370,6171,1694,1692,3801,5742,5171,1862,4407,2921,169,1765,2716,5207,4423,804,1657,211,4790,5990,4340,5197,537,4513,5508,3885,2164,547,3660,391,5995,1161,5828,122,1926,2145,39,4721,3496,3321,4308,1331,38,1675,3337,4203,1674,2646,5618,4619,4443,3726,3441,1323,5886,2506,2332,715,2143,2392,892,1338,886,1529,1815,494,1002,5417,1843,4766,2451,2460,2464,2622,4432,2974,3411,4222,2735,4726,5067,3913,3863,2639,4557,4771,5175,571,2356,4174,4502,3080,2023,2260,2347]
#------------------------------------

if oldAuth.size != newAuth.size || oldHub.size != newHub.size
	puts "error"
end

calcOldAuth = oldAuth
calcNewAuth = newAuth

calcOldHub = oldHub
calcNewHub = newHub


# 適合率計算
matchAuth = oldAuth & newAuth
matchHub = oldHub & newHub

authPresicion = matchAuth.size.to_f / oldAuth.size.to_f
hubPresicion = matchHub.size.to_f / oldHub.size.to_f


# 順位相関係数計算
calc(oldAuth,newAuth,calcOldAuth)
calc(newAuth,oldAuth,calcNewAuth)

calc(oldHub,newHub,calcOldHub)
calc(newHub,oldHub,calcNewHub)

puts "-----------------"
puts "権威適合率"
puts authPresicion
puts "-----------------"
puts "ハブ適合率"
puts hubPresicion

puts "-----------------"
puts "新・既存の権威ランキング"
calcOldAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済み権威ランキング"
calcNewAuth.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "権威ランキングサイズ"
puts calcOldAuth.size

puts "-----------------"
puts "新・既存のハブランキング"
calcOldHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "新・前処理済みハブランキング"
calcNewHub.each do |i|
	puts i.to_i
end

puts "-----------------"
puts "ハブランキングサイズ"
puts calcOldHub.size

puts "-----------------"